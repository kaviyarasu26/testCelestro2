{"ast":null,"code":"import * as React from 'react';\nimport { useEffect } from 'react';\nimport { useThree, useLoader } from '@react-three/fiber';\nimport { KTX2Loader } from 'three-stdlib';\nimport { IsObject } from './Texture.js';\nconst cdn = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master';\nfunction useKTX2(input) {\n  let basisPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : `${cdn}/basis/`;\n  const gl = useThree(state => state.gl);\n  const textures = useLoader(KTX2Loader, IsObject(input) ? Object.values(input) : input, loader => {\n    loader.detectSupport(gl);\n    loader.setTranscoderPath(basisPath);\n  });\n\n  // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n  useEffect(() => {\n    const array = Array.isArray(textures) ? textures : [textures];\n    array.forEach(gl.initTexture);\n  }, [gl, textures]);\n  if (IsObject(input)) {\n    const keys = Object.keys(input);\n    const keyed = {};\n    keys.forEach(key => Object.assign(keyed, {\n      [key]: textures[keys.indexOf(key)]\n    }));\n    return keyed;\n  } else {\n    return textures;\n  }\n}\nuseKTX2.preload = function (url) {\n  let basisPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : `${cdn}/basis/`;\n  return useLoader.preload(KTX2Loader, url, loader => {\n    loader.setTranscoderPath(basisPath);\n  });\n};\nuseKTX2.clear = input => useLoader.clear(KTX2Loader, input);\n\n//\n\nconst Ktx2 = _ref => {\n  let {\n    children,\n    input,\n    basisPath\n  } = _ref;\n  const texture = useKTX2(input, basisPath);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(texture));\n};\nexport { Ktx2, useKTX2 };","map":{"version":3,"names":["React","useEffect","useThree","useLoader","KTX2Loader","IsObject","cdn","useKTX2","input","basisPath","arguments","length","undefined","gl","state","textures","Object","values","loader","detectSupport","setTranscoderPath","array","Array","isArray","forEach","initTexture","keys","keyed","key","assign","indexOf","preload","url","clear","Ktx2","_ref","children","texture","createElement","Fragment"],"sources":["C:/Users/adhil/Downloads/celestro/node_modules/@react-three/drei/core/Ktx2.js"],"sourcesContent":["import * as React from 'react';\nimport { useEffect } from 'react';\nimport { useThree, useLoader } from '@react-three/fiber';\nimport { KTX2Loader } from 'three-stdlib';\nimport { IsObject } from './Texture.js';\n\nconst cdn = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master';\nfunction useKTX2(input, basisPath = `${cdn}/basis/`) {\n  const gl = useThree(state => state.gl);\n  const textures = useLoader(KTX2Loader, IsObject(input) ? Object.values(input) : input, loader => {\n    loader.detectSupport(gl);\n    loader.setTranscoderPath(basisPath);\n  });\n\n  // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n  useEffect(() => {\n    const array = Array.isArray(textures) ? textures : [textures];\n    array.forEach(gl.initTexture);\n  }, [gl, textures]);\n  if (IsObject(input)) {\n    const keys = Object.keys(input);\n    const keyed = {};\n    keys.forEach(key => Object.assign(keyed, {\n      [key]: textures[keys.indexOf(key)]\n    }));\n    return keyed;\n  } else {\n    return textures;\n  }\n}\nuseKTX2.preload = (url, basisPath = `${cdn}/basis/`) => useLoader.preload(KTX2Loader, url, loader => {\n  loader.setTranscoderPath(basisPath);\n});\nuseKTX2.clear = input => useLoader.clear(KTX2Loader, input);\n\n//\n\nconst Ktx2 = ({\n  children,\n  input,\n  basisPath\n}) => {\n  const texture = useKTX2(input, basisPath);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(texture));\n};\n\nexport { Ktx2, useKTX2 };\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,oBAAoB;AACxD,SAASC,UAAU,QAAQ,cAAc;AACzC,SAASC,QAAQ,QAAQ,cAAc;AAEvC,MAAMC,GAAG,GAAG,uDAAuD;AACnE,SAASC,OAAOA,CAACC,KAAK,EAA+B;EAAA,IAA7BC,SAAS,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,GAAGJ,GAAG,SAAS;EACjD,MAAMO,EAAE,GAAGX,QAAQ,CAACY,KAAK,IAAIA,KAAK,CAACD,EAAE,CAAC;EACtC,MAAME,QAAQ,GAAGZ,SAAS,CAACC,UAAU,EAAEC,QAAQ,CAACG,KAAK,CAAC,GAAGQ,MAAM,CAACC,MAAM,CAACT,KAAK,CAAC,GAAGA,KAAK,EAAEU,MAAM,IAAI;IAC/FA,MAAM,CAACC,aAAa,CAACN,EAAE,CAAC;IACxBK,MAAM,CAACE,iBAAiB,CAACX,SAAS,CAAC;EACrC,CAAC,CAAC;;EAEF;EACA;EACAR,SAAS,CAAC,MAAM;IACd,MAAMoB,KAAK,GAAGC,KAAK,CAACC,OAAO,CAACR,QAAQ,CAAC,GAAGA,QAAQ,GAAG,CAACA,QAAQ,CAAC;IAC7DM,KAAK,CAACG,OAAO,CAACX,EAAE,CAACY,WAAW,CAAC;EAC/B,CAAC,EAAE,CAACZ,EAAE,EAAEE,QAAQ,CAAC,CAAC;EAClB,IAAIV,QAAQ,CAACG,KAAK,CAAC,EAAE;IACnB,MAAMkB,IAAI,GAAGV,MAAM,CAACU,IAAI,CAAClB,KAAK,CAAC;IAC/B,MAAMmB,KAAK,GAAG,CAAC,CAAC;IAChBD,IAAI,CAACF,OAAO,CAACI,GAAG,IAAIZ,MAAM,CAACa,MAAM,CAACF,KAAK,EAAE;MACvC,CAACC,GAAG,GAAGb,QAAQ,CAACW,IAAI,CAACI,OAAO,CAACF,GAAG,CAAC;IACnC,CAAC,CAAC,CAAC;IACH,OAAOD,KAAK;EACd,CAAC,MAAM;IACL,OAAOZ,QAAQ;EACjB;AACF;AACAR,OAAO,CAACwB,OAAO,GAAG,UAACC,GAAG;EAAA,IAAEvB,SAAS,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,GAAGJ,GAAG,SAAS;EAAA,OAAKH,SAAS,CAAC4B,OAAO,CAAC3B,UAAU,EAAE4B,GAAG,EAAEd,MAAM,IAAI;IACnGA,MAAM,CAACE,iBAAiB,CAACX,SAAS,CAAC;EACrC,CAAC,CAAC;AAAA;AACFF,OAAO,CAAC0B,KAAK,GAAGzB,KAAK,IAAIL,SAAS,CAAC8B,KAAK,CAAC7B,UAAU,EAAEI,KAAK,CAAC;;AAE3D;;AAEA,MAAM0B,IAAI,GAAGC,IAAA,IAIP;EAAA,IAJQ;IACZC,QAAQ;IACR5B,KAAK;IACLC;EACF,CAAC,GAAA0B,IAAA;EACC,MAAME,OAAO,GAAG9B,OAAO,CAACC,KAAK,EAAEC,SAAS,CAAC;EACzC,OAAO,aAAaT,KAAK,CAACsC,aAAa,CAACtC,KAAK,CAACuC,QAAQ,EAAE,IAAI,EAAEH,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACC,OAAO,CAAC,CAAC;AAC9G,CAAC;AAED,SAASH,IAAI,EAAE3B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}